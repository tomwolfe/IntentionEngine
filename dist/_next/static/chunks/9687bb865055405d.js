(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79474,(e,t,a)=>{"use strict";var s=e.r(71645).__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;a.c=function(e){return s.H.useMemoCache(e)}},932,(e,t,a)=>{"use strict";t.exports=e.r(79474)},52683,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(932);let r=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim(),i=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:c="",children:l,iconNode:d,...o},x)=>(0,a.createElement)("svg",{ref:x,...n,width:t,height:t,stroke:e,strokeWidth:i?24*Number(s)/Number(t):s,className:r("lucide",c),...!l&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(o)&&{"aria-hidden":"true"},...o},[...d.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(l)?l:[l]])),l=(e,t)=>{let s=(0,a.forwardRef)(({className:s,...n},l)=>(0,a.createElement)(c,{ref:l,iconNode:t,className:r(`lucide-${i(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...n}));return s.displayName=i(e),s},d=l("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);function o(e){let r,i,n,c,l,o,x,m,h,u,p,y,f,b,k=(0,s.c)(36),{value:z,onChange:j,onSubmit:g,isProcessing:N,placeholder:v}=e,w=void 0===v?"What's your intention?":v,[_,$]=(0,a.useState)(!1),[C,S]=(0,a.useState)(z);k[0]!==z?(r=()=>{S(z)},i=[z],k[0]=z,k[1]=r,k[2]=i):(r=k[1],i=k[2]),(0,a.useEffect)(r,i),k[3]!==g||k[4]!==z?(n=e=>{"Enter"===e.key&&!e.shiftKey&&z.trim()&&(e.preventDefault(),g())},k[3]=g,k[4]=z,k[5]=n):n=k[5];let A=n,E=`
          relative group transition-all duration-500 ease-out
          ${N?"animate-pulse-slow":""}
        `,M=`
            absolute inset-0 rounded-2xl transition-all duration-500
            ${_?"bg-zinc-200 dark:bg-zinc-800 scale-105 blur-xl opacity-50":"bg-transparent scale-100 blur-0 opacity-0"}
            ${N?"animate-pulse bg-zinc-300 dark:bg-zinc-700":""}
          `;k[6]!==M?(c=(0,t.jsx)("div",{className:M}),k[6]=M,k[7]=c):c=k[7];let O=`
            relative flex items-center bg-white dark:bg-black
            border border-zinc-200 dark:border-zinc-800
            rounded-2xl transition-all duration-300
            ${_?"border-zinc-400 dark:border-zinc-600 shadow-lg":"hover:border-zinc-300 dark:hover:border-zinc-700"}
            ${N?"border-zinc-400 dark:border-zinc-600":""}
          `,T=`
              w-5 h-5 ml-4 transition-colors duration-300
              ${N?"text-zinc-400 animate-pulse":_?"text-zinc-900 dark:text-zinc-100":"text-zinc-400"}
            `;return k[8]!==T?(l=(0,t.jsx)(d,{className:T}),k[8]=T,k[9]=l):l=k[9],k[10]!==j?(o=e=>j(e.target.value),k[10]=j,k[11]=o):o=k[11],k[12]===Symbol.for("react.memo_cache_sentinel")?(x=()=>$(!0),m=()=>$(!1),k[12]=x,k[13]=m):(x=k[12],m=k[13]),k[14]===Symbol.for("react.memo_cache_sentinel")?(h={minHeight:"60px",maxHeight:"200px"},k[14]=h):h=k[14],k[15]!==C||k[16]!==A||k[17]!==N||k[18]!==w||k[19]!==o?(u=(0,t.jsx)("textarea",{value:C,onChange:o,onFocus:x,onBlur:m,onKeyDown:A,disabled:N,placeholder:w,rows:1,className:"\n              w-full py-4 px-4 bg-transparent text-lg\n              placeholder:text-zinc-400 text-zinc-900 dark:text-zinc-100\n              focus:outline-none resize-none overflow-hidden\n              disabled:cursor-not-allowed disabled:opacity-60\n            ",style:h}),k[15]=C,k[16]=A,k[17]=N,k[18]=w,k[19]=o,k[20]=u):u=k[20],k[21]!==N||k[22]!==z?(p=z.trim()&&!N&&(0,t.jsx)("div",{className:"pr-4",children:(0,t.jsx)("span",{className:"text-xs text-zinc-400",children:"Press Enter"})}),k[21]=N,k[22]=z,k[23]=p):p=k[23],k[24]!==N?(y=N&&(0,t.jsxs)("div",{className:"pr-4 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-zinc-400 rounded-full animate-pulse",style:{animationDelay:"0ms"}}),(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-zinc-400 rounded-full animate-pulse",style:{animationDelay:"150ms"}}),(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-zinc-400 rounded-full animate-pulse",style:{animationDelay:"300ms"}})]}),k[24]=N,k[25]=y):y=k[25],k[26]!==l||k[27]!==u||k[28]!==p||k[29]!==y||k[30]!==O?(f=(0,t.jsxs)("div",{className:O,children:[l,u,p,y]}),k[26]=l,k[27]=u,k[28]=p,k[29]=y,k[30]=O,k[31]=f):f=k[31],k[32]!==f||k[33]!==E||k[34]!==c?(b=(0,t.jsx)("div",{className:"w-full max-w-2xl mx-auto",children:(0,t.jsxs)("div",{className:E,children:[c,f]})}),k[32]=f,k[33]=E,k[34]=c,k[35]=b):b=k[35],b}let x=l("utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]),m=l("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),h=l("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),u=l("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),p=l("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),y=l("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),f=l("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),b={opentable:(0,t.jsx)(x,{className:"w-5 h-5"}),uber:(0,t.jsx)(m,{className:"w-5 h-5"}),calendar:(0,t.jsx)(h,{className:"w-5 h-5"}),personal_context:(0,t.jsx)(u,{className:"w-5 h-5"}),context_analysis:(0,t.jsx)(f,{className:"w-5 h-5"})},k={opentable:"OpenTable",uber:"Uber",calendar:"Calendar",personal_context:"Personal Context",context_analysis:"Analysis"};function z(e){let a,r,i,n,c,l,d,o,x,m,h,u,f,z,N,v=(0,s.c)(39),{action:w,index:_}=e;v[0]!==w.service?(a=b[w.service]||(0,t.jsx)(p,{className:"w-5 h-5"}),v[0]=w.service,v[1]=a):a=v[1];let $=a,C=k[w.service]||w.service;v[2]===Symbol.for("react.memo_cache_sentinel")?(r=["confirmed","scheduled","created","applied","completed"],v[2]=r):r=v[2];let S=r.includes(w.status),A="pending"===w.status;if(v[3]!==w.details){var E;let e,t=g;E=w.details,e=[],Object.entries(E).forEach(a=>{let[s,r]=a;Array.isArray(r)?e.push(`${t(s)}: ${r.join(", ")}`):("string"==typeof r||"number"==typeof r)&&e.push(`${t(s)}: ${r}`)}),i=e,v[3]=w.details,v[4]=i}else i=v[4];let M=i,O=w.details.restaurant||w.details.title||w.details.pickup_location||`${C} ${w.action}`,T=w.details.time||w.details.pickup_time||w.details.start_time||w.status,U=`
        relative overflow-hidden rounded-xl border transition-all duration-500
        ${S?"bg-zinc-50 dark:bg-zinc-900/50 border-zinc-200 dark:border-zinc-800":"bg-zinc-100 dark:bg-zinc-800 border-zinc-300 dark:border-zinc-700"}
        animate-in fade-in slide-in-from-bottom-4 duration-500 fill-mode-forwards
      `,D=`${100*_}ms`;v[5]!==D?(n={animationDelay:D},v[5]=D,v[6]=n):n=v[6];let P=`
              flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center
              ${S?"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-black":"bg-zinc-300 dark:bg-zinc-600 text-zinc-600 dark:text-zinc-400"}
            `;v[7]!==$||v[8]!==P?(c=(0,t.jsx)("div",{className:P,children:$}),v[7]=$,v[8]=P,v[9]=c):c=v[9],v[10]!==O?(l=(0,t.jsx)("h3",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:O}),v[10]=O,v[11]=l):l=v[11],v[12]!==S?(d=S&&(0,t.jsx)(p,{className:"w-4 h-4 text-zinc-900 dark:text-zinc-100"}),v[12]=S,v[13]=d):d=v[13],v[14]!==A?(o=A&&(0,t.jsx)(y,{className:"w-4 h-4 text-zinc-400 animate-pulse"}),v[14]=A,v[15]=o):o=v[15],v[16]!==d||v[17]!==o||v[18]!==l?(x=(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[l,d,o]}),v[16]=d,v[17]=o,v[18]=l,v[19]=x):x=v[19],v[20]!==C||v[21]!==T?(m=(0,t.jsxs)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mb-2",children:[T," â€¢ ",C]}),v[20]=C,v[21]=T,v[22]=m):m=v[22],v[23]!==M?(h=(0,t.jsx)("div",{className:"space-y-1",children:M.slice(0,3).map(j)}),v[23]=M,v[24]=h):h=v[24],v[25]!==x||v[26]!==m||v[27]!==h?(u=(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[x,m,h]}),v[25]=x,v[26]=m,v[27]=h,v[28]=u):u=v[28],v[29]!==u||v[30]!==c?(f=(0,t.jsx)("div",{className:"p-5",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[c,u]})}),v[29]=u,v[30]=c,v[31]=f):f=v[31];let R=`
          absolute bottom-0 left-0 right-0 h-0.5
          ${S?"bg-zinc-900 dark:bg-zinc-100":"bg-zinc-400 dark:bg-zinc-600"}
        `;return v[32]!==R?(z=(0,t.jsx)("div",{className:R}),v[32]=R,v[33]=z):z=v[33],v[34]!==f||v[35]!==z||v[36]!==U||v[37]!==n?(N=(0,t.jsxs)("div",{className:U,style:n,children:[f,z]}),v[34]=f,v[35]=z,v[36]=U,v[37]=n,v[38]=N):N=v[38],N}function j(e,a){return(0,t.jsx)("p",{className:"text-xs text-zinc-600 dark:text-zinc-300",children:e},a)}function g(e){return e.replace(/_/g," ").replace(/\b\w/g,N)}function N(e){return e.toUpperCase()}function v(e){let a,r,i,n,c=(0,s.c)(11),{result:l,isProcessing:o}=e;if(!l&&!o)return null;let x=l?.orchestration;c[0]!==x?.actions?(a=x?.actions||[],c[0]=x?.actions,c[1]=a):a=c[1];let m=a;return c[2]!==o||c[3]!==l?(r=o&&!l&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-3 py-12",children:[(0,t.jsx)(d,{className:"w-5 h-5 text-zinc-400 animate-pulse"}),(0,t.jsx)("span",{className:"text-sm text-zinc-400",children:"Orchestrating your intent..."})]}),[1,2,3].map(_)]}),c[2]=o,c[3]=l,c[4]=r):r=c[4],c[5]!==m||c[6]!==x?(i=x&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsxs)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:["Intent: ",(0,t.jsx)("span",{className:"text-zinc-900 dark:text-zinc-100",children:x.intent})]}),(0,t.jsxs)("p",{className:"text-xs text-zinc-400",children:["Confidence: ",Math.round(100*x.confidence),"%"]})]}),(0,t.jsx)("div",{className:"space-y-3",children:m.map(w)}),(0,t.jsx)("div",{className:"pt-4 border-t border-zinc-200 dark:border-zinc-800",children:(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-300 leading-relaxed",children:x.summary})})]}),c[5]=m,c[6]=x,c[7]=i):i=c[7],c[8]!==r||c[9]!==i?(n=(0,t.jsxs)("div",{className:"w-full max-w-2xl mx-auto mt-8 space-y-6",children:[r,i]}),c[8]=r,c[9]=i,c[10]=n):n=c[10],n}function w(e,a){return(0,t.jsx)(z,{action:e,index:a},a)}function _(e){return(0,t.jsx)("div",{className:"h-32 rounded-xl bg-zinc-100 dark:bg-zinc-800/50 animate-pulse",style:{animationDelay:`${100*e}ms`}},e)}function $(){let[e,s]=(0,a.useState)(""),[r,i]=(0,a.useState)(!1),[n,c]=(0,a.useState)(null),[l,x]=(0,a.useState)(null),m=async()=>{if(e.trim()){i(!0),x(null),c(null);try{let t=await fetch("/api/intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({intent:e.trim()})});if(!t.ok)throw Error("Failed to process intent");let a=await t.json();if(a.success)c(a.result);else throw Error(a.error||"Unknown error")}catch(e){x(e instanceof Error?e.message:"An error occurred")}finally{i(!1)}}};return(0,t.jsxs)("main",{className:"min-h-screen bg-white dark:bg-black flex flex-col",children:[(0,t.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 px-6 py-4",children:(0,t.jsx)("div",{className:"max-w-2xl mx-auto flex items-center justify-center",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-zinc-900 dark:text-zinc-100",children:[(0,t.jsx)(d,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-sm font-medium tracking-tight",children:"Intention Engine"})]})})}),(0,t.jsx)("div",{className:"flex-1 flex flex-col items-center justify-center px-6 pt-20 pb-12",children:(0,t.jsxs)("div",{className:"w-full max-w-3xl mx-auto",children:[!n&&!r&&(0,t.jsxs)("div",{className:"text-center mb-12 space-y-4",children:[(0,t.jsx)("h1",{className:"text-3xl sm:text-4xl font-semibold tracking-tight text-zinc-900 dark:text-zinc-100",children:"What do you want to do?"}),(0,t.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Simply express your intent. We orchestrate the rest."})]}),(0,t.jsx)(o,{value:e,onChange:s,onSubmit:m,isProcessing:r,placeholder:"I'm taking Sarah to dinner Friday..."}),(0,t.jsx)(v,{result:n,isProcessing:r}),l&&(0,t.jsx)("div",{className:"mt-6 p-4 rounded-lg bg-zinc-100 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800",children:(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 text-center",children:l})})]})}),(0,t.jsx)("footer",{className:"fixed bottom-0 left-0 right-0 px-6 py-4",children:(0,t.jsx)("div",{className:"max-w-2xl mx-auto flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-xs text-zinc-400",children:"Powered by Z.AI GLM-4.7-flash"})})})]})}e.s(["default",()=>$],52683)}]);